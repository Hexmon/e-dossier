# Production (.env)
DATABASE_URL=postgresql://edossier:change_me_strong@172.22.128.56:5432/e_dossier_v2
ACCESS_TOKEN_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nMC4CAQAwBQYDK2VwBCIEIKsoxAMJEZLV+A9pJF/1+A0vkGdjaKTQGVSlKHn7LBXw\n-----END PRIVATE KEY-----"
ACCESS_TOKEN_PUBLIC_KEY="-----BEGIN PUBLIC KEY-----\nMCowBQYDK2VwAyEAX/+LJjlZfaHoN38xoH2VrDSmzcKUmySLHLrtI6nw7a4=\n-----END PUBLIC KEY-----"
ACCESS_TOKEN_TTL_SECONDS=9000
CSRF_SECRET=2981cc256332722efa8abe35942f59254296c19ee772559d71d8478507a4e7fc719ba32e113639430fee1face55ca3ea459feb55f263b820d9f978b6bc1be7ea
NODE_ENV=production
EXPOSE_TOKENS_IN_DEV=false
NEXT_PUBLIC_API_BASE_URL=http://172.22.128.57

# Super Admin (post: SUPER_ADMIN)
SUPERADMIN_USERNAME=superadmin
SUPERADMIN_PASSWORD=ChangeMe!123
SUPERADMIN_EMAIL=superadmin@example.com
SUPERADMIN_PHONE=+910000000000
SUPERADMIN_NAME=Super Admin
SUPERADMIN_RANK=SUPER

# Admin (post: ADMIN)
ADMIN_USERNAME=admin
ADMIN_PASSWORD=Admin@1234
ADMIN_EMAIL=admin@example.com
ADMIN_PHONE=+910000000001
ADMIN_NAME=Admin
ADMIN_RANK=ADMIN

# Seeding admin accounts
# With the above env vars set (or in a .env file), run `pnpm seed:admins`.

# MinIO (S3-compatible object storage)
MINIO_ENDPOINT=172.22.128.56
MINIO_PORT=9000
MINIO_USE_SSL=false
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=change_me_strong
MINIO_BUCKET=oc-images
MINIO_REGION=us-east-1
MINIO_PUBLIC_URL=https://172.22.128.57/media

# Optional: Upstash Redis (rate limiting)
# UPSTASH_REDIS_REST_URL=
# UPSTASH_REDIS_REST_TOKEN=
# ============================================
# Rate Limiting Configuration (Production)
# ============================================
# MUST be enabled in production for security
RATE_LIMIT_ENABLED=true

# API rate limiting (general endpoints)
# Adjust based on your expected traffic
RATE_LIMIT_API_MAX_REQUESTS=100
RATE_LIMIT_API_WINDOW_SECONDS=60

# Login rate limiting - strict in production
RATE_LIMIT_LOGIN_MAX_REQUESTS=5
RATE_LIMIT_LOGIN_WINDOW_SECONDS=900

# Signup rate limiting
RATE_LIMIT_SIGNUP_MAX_REQUESTS=3
RATE_LIMIT_SIGNUP_WINDOW_SECONDS=3600

# Password reset rate limiting
RATE_LIMIT_PASSWORD_RESET_MAX_REQUESTS=3
RATE_LIMIT_PASSWORD_RESET_WINDOW_SECONDS=3600

# Redis key prefix for rate limiting
RATE_LIMIT_REDIS_KEY_PREFIX=ratelimit

# Health check should NOT be rate limited in production
RATE_LIMIT_EXCLUDE_HEALTH_CHECK=true
# Authorization V2 (feature-flagged rollout)
AUTHZ_V2_ENABLED=false
NEXT_PUBLIC_AUTHZ_V2_ENABLED=false
AUTHZ_V2_CACHE_TTL_MS=30000
